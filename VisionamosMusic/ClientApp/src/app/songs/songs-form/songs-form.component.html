<app-nav-menu [esAdmin]="datosUsuario.esAdmin"></app-nav-menu>
<h1>Agregar Caci√≥n</h1>
<form #cancionForm="ngForm" action="/" method="post">
  <div class="form-group">
    <label>Nombre</label>
    <input type="text" name="name" value="" [(ngModel)]="song.name" class="form-control" #name="ngModel" />
    <div [hidden]="name.valid || name.pristine"
         class="alert alert-danger">
      El nombre es requerido
    </div>
  </div>
  <div class="form-group">
    <label>Autor</label>
    <select name="author" class="form-control" [(ngModel)]="song.author" (ngModelChange)="loadAlbumByAuthor()" #name="ngModel">
      <option *ngFor="let autor of listaAutores" [value]="autor.id">{{autor.name}}</option>
    </select>
    <div [hidden]="name.valid || name.pristine"
         class="alert alert-danger">
      El autor es requerido
    </div>
  </div>
  <div class="form-group">
    <label>Album</label>
    <select name="album" class="form-control" [(ngModel)]="song.album" #name="ngModel">
      <option *ngFor="let album of listaAlbunes" [value]="album.id">{{album.name}}</option>
    </select>
    <div [hidden]="name.valid || name.pristine"
         class="alert alert-danger">
      El album es requerido
    </div>
  </div>
  <div class="form-area-submit">
    <button type="submit" class="btn btn-success" (click)="agregarCancion()" [disabled]="!cancionForm.form.valid">Guardar</button>
    <button type="button" class="btn btn-secondary" (click)="cancelar()">Cancelar</button>
  </div>
</form>

